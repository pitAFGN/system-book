let librosColeccion = [
  {
    titulo: "El Señor de los Anillos: La Comunidad del Anillo",
    autor: "J.R.R. Tolkien",
    formato: "Tapa dura",
    precio: 50.99,
    peso: "1.2 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante A1",
    fechaPublicacion: "1954-07-29",
    generos: ["Fantasía", "Aventura"],
    idioma: "Inglés",
    descripcion: "La primera parte de la famosa trilogía de Tolkien.",
    ISBN: "978-0544003415",
    dimensiones: "15 x 4 x 23 cm",
    editorial: "Allen & Unwin",
    numeroPaginas: 423
  },
  {
    titulo: "1984",
    autor: "George Orwell",
    formato: "Tapa blanda",
    precio: 55.99,
    peso: "0.5 kg",
    estado: "Usado",
    ubicacionFisica: "Estante A2",
    fechaPublicacion: "1949-06-08",
    generos: ["Distopía", "Política"],
    idioma: "Inglés",
    descripcion: "Una novela que describe un mundo totalitario y vigilado.",
    ISBN: "978-0451524935",
    dimensiones: "13 x 2 x 20 cm",
    editorial: "Allen & Unwin",
    numeroPaginas: 328
  },
  {
    titulo: "Cien años de soledad",
    autor: "Gabriel García Márquez",
    formato: "Tapa dura",
    precio: 99.99,
    peso: "0.9 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante A3",
    fechaPublicacion: "1967-05-30",
    generos: ["Realismo mágico", "Literatura latinoamericana"],
    idioma: "Español",
    descripcion: "a",
    ISBN: "978-0307474728",
    dimensiones: "14 x 3 x 22 cm",
    editorial: "Allen & Unwin",
    numeroPaginas: 471
  },
  {
    titulo: "Don Quijote de la Mancha",
    autor: "Miguel de Cervantes",
    formato: "Tapa dura",
    precio: 70.99,
    peso: "1.3 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante A4",
    fechaPublicacion: "1605-01-16",
    generos: ["Clásico", "Aventura"],
    idioma: "Español",
    descripcion: "Las aventuras del ingenioso hidalgo Don Quijote.",
    ISBN: "978-8491050293",
    dimensiones: "16 x 5 x 24 cm",
    editorial: "Allen & Unwin",
    numeroPaginas: 863
  },
  {
    titulo: "Los miserables",
    autor: "Victor Hugo",
    formato: "Tapa dura",
    precio: 27.99,
    peso: "1.5 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante A5",
    fechaPublicacion: "1862-04-03",
    generos: ["Drama", "Histórico"],
    idioma: "Francés",
    descripcion: "Una obra maestra sobre justicia, redención y amor.",
    ISBN: "978-0451419439",
    dimensiones: "17 x 6 x 25 cm",
    editorial: "Allen & Unwin",
    numeroPaginas: 1463
  },
  {
    titulo: "Harry Potter y la piedra filosofal",
    autor: "J.K. Rowling",
    formato: "Tapa blanda",
    precio: 18.99,
    peso: "0.7 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante B1",
    fechaPublicacion: "1997-06-26",
    generos: ["Fantasía", "Juvenil"],
    idioma: "Inglés",
    descripcion: "La primera aventura de Harry Potter en Hogwarts.",
    ISBN: "978-0747532699",
    dimensiones: "14 x 3 x 21 cm",
    editorial: "Bloomsbury",
    numeroPaginas: 89
  },
  {
    titulo: "El Hobbit",
    autor: "J.R.R. Tolkien",
    formato: "Tapa dura",
    precio: 20.99,
    peso: "0.8 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante B2",
    fechaPublicacion: "1937-09-21",
    generos: ["Fantasía", "Aventura"],
    idioma: "Inglés",
    descripcion: "Las aventuras de Bilbo Bolsón en la Tierra Media.",
    ISBN: "978-0547928227",
    dimensiones: "15 x 3 x 22 cm",
    editorial: "Bloomsbury",
    numeroPaginas: 99
  },
  {
    titulo: "El nombre del viento",
    autor: "Patrick Rothfuss",
    formato: "Tapa blanda",
    precio: 22.99,
    peso: "0.9 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante B3",
    fechaPublicacion: "2007-03-27",
    generos: ["Fantasía", "Épica"],
    idioma: "Inglés",
    descripcion: "La primera parte de la Crónica del Asesino de Reyes.",
    ISBN: "978-0756404741",
    dimensiones: "15 x 4 x 23 cm",
    editorial: "Bloomsbury",
    numeroPaginas: 662
  },
  {
    titulo: "Los juegos del hambre",
    autor: "Suzanne Collins",
    formato: "Tapa blanda",
    precio: 16.99,
    peso: "0.6 kg",
    estado: "Usado",
    ubicacionFisica: "Estante B4",
    fechaPublicacion: "2008-09-14",
    generos: ["Ciencia ficción", "Juvenil"],
    idioma: "Inglés",
    descripcion: "Katniss Everdeen lucha por sobrevivir en los juegos.",
    ISBN: "978-0439023481",
    dimensiones: "13 x 2 x 20 cm",
    editorial: "Bloomsbury",
    numeroPaginas: 374
  },
  {
    titulo: "Fahrenheit 451",
    autor: "Ray Bradbury",
    formato: "Tapa dura",
    precio: 15.99,
    peso: "0.55 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante B5",
    fechaPublicacion: "1953-10-19",
    generos: ["Distopía", "Ciencia ficción"],
    idioma: "Inglés",
    descripcion: "Un futuro donde los libros son prohibidos y quemados.",
    ISBN: "978-1451673319",
    dimensiones: "14 x 2 x 21 cm",
    editorial: "Bloomsbury",
    numeroPaginas: 100
  },
  {
    titulo: "El código Da Vinci",
    autor: "Dan Brown",
    formato: "Tapa dura",
    precio: 21.99,
    peso: "0.95 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante C1",
    fechaPublicacion: "2003-04-01",
    generos: ["Misterio", "Thriller"],
    idioma: "Inglés",
    descripcion: "Un thriller sobre secretos ocultos en el arte.",
    ISBN: "978-0385504201",
    dimensiones: "15 x 4 x 23 cm",
    editorial: "Doubleday",
    numeroPaginas: 689
  },
  {
    titulo: "La sombra del viento",
    autor: "Carlos Ruiz Zafón",
    formato: "Tapa blanda",
    precio: 19.49,
    peso: "0.85 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante C2",
    fechaPublicacion: "2001-04-17",
    generos: ["Misterio", "Drama"],
    idioma: "Español",
    descripcion: "Un niño descubre un libro misterioso en Barcelona.",
    ISBN: "978-8408172177",
    dimensiones: "14 x 3 x 22 cm",
    editorial: "Doubleday",
    numeroPaginas: 565
  },
  {
    titulo: "El alquimista",
    autor: "Paulo Coelho",
    formato: "Tapa blanda",
    precio: 13.99,
    peso: "0.45 kg",
    estado: "Usado",
    ubicacionFisica: "Estante C3",
    fechaPublicacion: "1988-05-01",
    generos: ["Ficción", "Filosofía"],
    idioma: "Portugués",
    descripcion: "Un joven pastor busca su tesoro personal.",
    ISBN: "978-0061122415",
    dimensiones: "12 x 2 x 20 cm",
    editorial: "Doubleday",
    numeroPaginas: 208
  },
  {
    titulo: "El retrato de Dorian Gray",
    autor: "Oscar Wilde",
    formato: "Tapa dura",
    precio: 17.49,
    peso: "0.65 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante C4",
    fechaPublicacion: "1890-07-01",
    generos: ["Clásico", "Filosofía"],
    idioma: "Inglés",
    descripcion: "La historia de un hombre que nunca envejece.",
    ISBN: "978-0141439570",
    dimensiones: "13 x 3 x 21 cm",
    editorial: "Doubleday",
    numeroPaginas: 254
  },
  {
    titulo: "Crimen y castigo",
    autor: "Fiódor Dostoievski",
    formato: "Tapa dura",
    precio: 19.99,
    peso: "1.0 kg",
    estado: "Usado",
    ubicacionFisica: "Estante E5",
    fechaPublicacion: "1866-01-01",
    generos: ["Drama", "Filosofía"],
    idioma: "Ruso",
    descripcion: "Un joven estudiante comete un asesinato y sufre las consecuencias.",
    ISBN: "978-0140449136",
    dimensiones: "15 x 4 x 23 cm",
    editorial: "Fondo de Cultura Económica",
    numeroPaginas: 671
  },
  {
    titulo: "La Odisea",
    autor: "Homero",
    formato: "Tapa dura",
    precio: 17.49,
    peso: "0.9 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante F1",
    fechaPublicacion: "800-01-01",
    generos: ["Épica", "Clásico"],
    idioma: "Griego",
    descripcion: "La travesía de Odiseo para regresar a Ítaca.",
    ISBN: "978-0140268867",
    dimensiones: "15 x 4 x 23 cm",
    editorial: "The Russian Messenger",
    numeroPaginas: 800
  },
  {
    titulo: "Crimen y castigo",
    autor: "Fiódor Dostoyevski",
    formato: "Tapa dura",
    precio: 19.90,
    peso: "0.8 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante 4 - Sección 1",
    fechaPublicacion: "1866-01-01",
    generos: ["Clásico", "Psicológico", "Drama"],
    idioma: "Ruso",
    descripcion: "Un joven estudiante lucha con la culpa tras cometer un crimen.",
    ISBN: "978-0140449136",
    dimensiones: "20 x 4 x 25 cm",
    editorial: "The Russian Messenger",
    numeroPaginas: 671
  },
  {
    titulo: "Orgullo y prejuicio",
    autor: "Jane Austen",
    formato: "Tapa blanda",
    precio: 14.50,
    peso: "0.55 kg",
    estado: "Excelente",
    ubicacionFisica: "Estante 4 - Sección 2",
    fechaPublicacion: "1813-01-28",
    generos: ["Romance", "Clásico", "Costumbrismo"],
    idioma: "Inglés",
    descripcion: "La historia de Elizabeth Bennet y su relación con el enigmático señor Darcy.",
    ISBN: "978-0141439518",
    dimensiones: "19 x 2 x 23 cm",
    editorial: "The Russian Messenger",
    numeroPaginas: 432
  },
  {
    titulo: "La Odisea",
    autor: "Homero",
    formato: "Tapa dura",
    precio: 22.00,
    peso: "0.9 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante 4 - Sección 3",
    fechaPublicacion: "800-01-01",
    generos: ["Clásico", "Mitología", "Aventura"],
    idioma: "Griego",
    descripcion: "El regreso de Ulises a Ítaca tras la guerra de Troya.",
    ISBN: "978-0140268867",
    dimensiones: "21 x 3.5 x 26 cm",
    editorial: "The Russian Messenger",
    numeroPaginas: 541
  },
  {
    titulo: "La divina comedia",
    autor: "Dante Alighieri",
    formato: "Tapa dura",
    precio: 25.00,
    peso: "1.1 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante 4 - Sección 4",
    fechaPublicacion: "1320-01-01",
    generos: ["Clásico", "Poesía", "Religión"],
    idioma: "Italiano",
    descripcion: "El viaje alegórico de Dante a través del Infierno, Purgatorio y Paraíso.",
    ISBN: "978-0140448955",
    dimensiones: "22 x 4 x 28 cm",
    editorial: "The Russian Messenger",
    numeroPaginas: 798
  }

]
let librosRestauracion = [
  {
    titulo: "El Señor de los Anillos: La Comunidad del Anillo",
    autor: "J.R.R. Tolkien",
    formato: "Tapa dura",
    precio: 25.99,
    peso: "1.2 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante A1",
    fechaPublicacion: "1954-07-29",
    generos: ["Fantasía", "Aventura"],
    idioma: "Inglés",
    descripcion: "La primera parte de la famosa trilogía de Tolkien.",
    ISBN: "978-0544003415",
    dimensiones: "15 x 4 x 23 cm",
    editorial: "Allen & Unwin",
    numeroPaginas: 423
  },
  {
    titulo: "1984",
    autor: "George Orwell",
    formato: "Tapa blanda",
    precio: 14.99,
    peso: "0.5 kg",
    estado: "Usado",
    ubicacionFisica: "Estante A2",
    fechaPublicacion: "1949-06-08",
    generos: ["Distopía", "Política"],
    idioma: "Inglés",
    descripcion: "Una novela que describe un mundo totalitario y vigilado.",
    ISBN: "978-0451524935",
    dimensiones: "13 x 2 x 20 cm",
    editorial: "Allen & Unwin",
    numeroPaginas: 328
  },
  {
    titulo: "Cien años de soledad",
    autor: "Gabriel García Márquez",
    formato: "Tapa dura",
    precio: 19.99,
    peso: "0.9 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante A3",
    fechaPublicacion: "1967-05-30",
    generos: ["Realismo mágico", "Literatura latinoamericana"],
    idioma: "Español",
    descripcion: "La historia de la familia Buendía en Macondo.",
    ISBN: "978-0307474728",
    dimensiones: "14 x 3 x 22 cm",
    editorial: "Allen & Unwin",
    numeroPaginas: 471
  },
  {
    titulo: "Don Quijote de la Mancha",
    autor: "Miguel de Cervantes",
    formato: "Tapa dura",
    precio: 29.99,
    peso: "1.3 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante A4",
    fechaPublicacion: "1605-01-16",
    generos: ["Clásico", "Aventura"],
    idioma: "Español",
    descripcion: "Las aventuras del ingenioso hidalgo Don Quijote.",
    ISBN: "978-8491050293",
    dimensiones: "16 x 5 x 24 cm",
    editorial: "Allen & Unwin",
    numeroPaginas: 863
  },
  {
    titulo: "Los miserables",
    autor: "Victor Hugo",
    formato: "Tapa dura",
    precio: 27.99,
    peso: "1.5 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante A5",
    fechaPublicacion: "1862-04-03",
    generos: ["Drama", "Histórico"],
    idioma: "Francés",
    descripcion: "Una obra maestra sobre justicia, redención y amor.",
    ISBN: "978-0451419439",
    dimensiones: "17 x 6 x 25 cm",
    editorial: "Allen & Unwin",
    numeroPaginas: 1463
  },
  {
    titulo: "Harry Potter y la piedra filosofal",
    autor: "J.K. Rowling",
    formato: "Tapa blanda",
    precio: 18.99,
    peso: "0.7 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante B1",
    fechaPublicacion: "1997-06-26",
    generos: ["Fantasía", "Juvenil"],
    idioma: "Inglés",
    descripcion: "La primera aventura de Harry Potter en Hogwarts.",
    ISBN: "978-0747532699",
    dimensiones: "14 x 3 x 21 cm",
    editorial: "Bloomsbury",
    numeroPaginas: 223
  },
  {
    titulo: "El Hobbit",
    autor: "J.R.R. Tolkien",
    formato: "Tapa dura",
    precio: 20.99,
    peso: "0.8 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante B2",
    fechaPublicacion: "1937-09-21",
    generos: ["Fantasía", "Aventura"],
    idioma: "Inglés",
    descripcion: "Las aventuras de Bilbo Bolsón en la Tierra Media.",
    ISBN: "978-0547928227",
    dimensiones: "15 x 3 x 22 cm",
    editorial: "Bloomsbury",
    numeroPaginas: 310
  },
  {
    titulo: "El nombre del viento",
    autor: "Patrick Rothfuss",
    formato: "Tapa blanda",
    precio: 22.99,
    peso: "0.9 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante B3",
    fechaPublicacion: "2007-03-27",
    generos: ["Fantasía", "Épica"],
    idioma: "Inglés",
    descripcion: "La primera parte de la Crónica del Asesino de Reyes.",
    ISBN: "978-0756404741",
    dimensiones: "15 x 4 x 23 cm",
    editorial: "Bloomsbury",
    numeroPaginas: 662
  },
  {
    titulo: "Los juegos del hambre",
    autor: "Suzanne Collins",
    formato: "Tapa blanda",
    precio: 16.99,
    peso: "0.6 kg",
    estado: "Usado",
    ubicacionFisica: "Estante B4",
    fechaPublicacion: "2008-09-14",
    generos: ["Ciencia ficción", "Juvenil"],
    idioma: "Inglés",
    descripcion: "Katniss Everdeen lucha por sobrevivir en los juegos.",
    ISBN: "978-0439023481",
    dimensiones: "13 x 2 x 20 cm",
    editorial: "Bloomsbury",
    numeroPaginas: 374
  },
  {
    titulo: "Fahrenheit 451",
    autor: "Ray Bradbury",
    formato: "Tapa dura",
    precio: 15.99,
    peso: "0.55 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante B5",
    fechaPublicacion: "1953-10-19",
    generos: ["Distopía", "Ciencia ficción"],
    idioma: "Inglés",
    descripcion: "Un futuro donde los libros son prohibidos y quemados.",
    ISBN: "978-1451673319",
    dimensiones: "14 x 2 x 21 cm",
    editorial: "Bloomsbury",
    numeroPaginas: 194
  },
  {
    titulo: "El código Da Vinci",
    autor: "Dan Brown",
    formato: "Tapa dura",
    precio: 21.99,
    peso: "0.95 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante C1",
    fechaPublicacion: "2003-04-01",
    generos: ["Misterio", "Thriller"],
    idioma: "Inglés",
    descripcion: "Un thriller sobre secretos ocultos en el arte.",
    ISBN: "978-0385504201",
    dimensiones: "15 x 4 x 23 cm",
    editorial: "Doubleday",
    numeroPaginas: 689
  },
  {
    titulo: "La sombra del viento",
    autor: "Carlos Ruiz Zafón",
    formato: "Tapa blanda",
    precio: 19.49,
    peso: "0.85 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante C2",
    fechaPublicacion: "2001-04-17",
    generos: ["Misterio", "Drama"],
    idioma: "Español",
    descripcion: "Un niño descubre un libro misterioso en Barcelona.",
    ISBN: "978-8408172177",
    dimensiones: "14 x 3 x 22 cm",
    editorial: "Doubleday",
    numeroPaginas: 565
  },
  {
    titulo: "El alquimista",
    autor: "Paulo Coelho",
    formato: "Tapa blanda",
    precio: 13.99,
    peso: "0.45 kg",
    estado: "Usado",
    ubicacionFisica: "Estante C3",
    fechaPublicacion: "1988-05-01",
    generos: ["Ficción", "Filosofía"],
    idioma: "Portugués",
    descripcion: "Un joven pastor busca su tesoro personal.",
    ISBN: "978-0061122415",
    dimensiones: "12 x 2 x 20 cm",
    editorial: "Doubleday",
    numeroPaginas: 208
  },
  {
    titulo: "El retrato de Dorian Gray",
    autor: "Oscar Wilde",
    formato: "Tapa dura",
    precio: 17.49,
    peso: "0.65 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante C4",
    fechaPublicacion: "1890-07-01",
    generos: ["Clásico", "Filosofía"],
    idioma: "Inglés",
    descripcion: "La historia de un hombre que nunca envejece.",
    ISBN: "978-0141439570",
    dimensiones: "13 x 3 x 21 cm",
    editorial: "Doubleday",
    numeroPaginas: 254
  },
  {
    titulo: "Crimen y castigo",
    autor: "Fiódor Dostoievski",
    formato: "Tapa dura",
    precio: 19.99,
    peso: "1.0 kg",
    estado: "Usado",
    ubicacionFisica: "Estante E5",
    fechaPublicacion: "1866-01-01",
    generos: ["Drama", "Filosofía"],
    idioma: "Ruso",
    descripcion: "Un joven estudiante comete un asesinato y sufre las consecuencias.",
    ISBN: "978-0140449136",
    dimensiones: "15 x 4 x 23 cm",
    editorial: "Fondo de Cultura Económica",
    numeroPaginas: 671
  },
  {
    titulo: "La Odisea",
    autor: "Homero",
    formato: "Tapa dura",
    precio: 17.49,
    peso: "0.9 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante F1",
    fechaPublicacion: "800-01-01",
    generos: ["Épica", "Clásico"],
    idioma: "Griego",
    descripcion: "La travesía de Odiseo para regresar a Ítaca.",
    ISBN: "978-0140268867",
    dimensiones: "15 x 4 x 23 cm",
    editorial: "The Russian Messenger",
    numeroPaginas: 800
  },
  {
    titulo: "Crimen y castigo",
    autor: "Fiódor Dostoyevski",
    formato: "Tapa dura",
    precio: 19.90,
    peso: "0.8 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante 4 - Sección 1",
    fechaPublicacion: "1866-01-01",
    generos: ["Clásico", "Psicológico", "Drama"],
    idioma: "Ruso",
    descripcion: "Un joven estudiante lucha con la culpa tras cometer un crimen.",
    ISBN: "978-0140449136",
    dimensiones: "20 x 4 x 25 cm",
    editorial: "The Russian Messenger",
    numeroPaginas: 671
  },
  {
    titulo: "Orgullo y prejuicio",
    autor: "Jane Austen",
    formato: "Tapa blanda",
    precio: 14.50,
    peso: "0.55 kg",
    estado: "Excelente",
    ubicacionFisica: "Estante 4 - Sección 2",
    fechaPublicacion: "1813-01-28",
    generos: ["Romance", "Clásico", "Costumbrismo"],
    idioma: "Inglés",
    descripcion: "La historia de Elizabeth Bennet y su relación con el enigmático señor Darcy.",
    ISBN: "978-0141439518",
    dimensiones: "19 x 2 x 23 cm",
    editorial: "The Russian Messenger",
    numeroPaginas: 432
  },
  {
    titulo: "La Odisea",
    autor: "Homero",
    formato: "Tapa dura",
    precio: 22.00,
    peso: "0.9 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante 4 - Sección 3",
    fechaPublicacion: "800-01-01",
    generos: ["Clásico", "Mitología", "Aventura"],
    idioma: "Griego",
    descripcion: "El regreso de Ulises a Ítaca tras la guerra de Troya.",
    ISBN: "978-0140268867",
    dimensiones: "21 x 3.5 x 26 cm",
    editorial: "The Russian Messenger",
    numeroPaginas: 541
  },
  {
    titulo: "La divina comedia",
    autor: "Dante Alighieri",
    formato: "Tapa dura",
    precio: 25.00,
    peso: "1.1 kg",
    estado: "Nuevo",
    ubicacionFisica: "Estante 4 - Sección 4",
    fechaPublicacion: "1320-01-01",
    generos: ["Clásico", "Poesía", "Religión"],
    idioma: "Italiano",
    descripcion: "El viaje alegórico de Dante a través del Infierno, Purgatorio y Paraíso.",
    ISBN: "978-0140448955",
    dimensiones: "22 x 4 x 28 cm",
    editorial: "The Russian Messenger",
    numeroPaginas: 798
  }
]
// ==========================
// 🔧 Configuración de módulos
// ==========================
const { format } = require('path');     // módulo de Node.js (no se usa en este fragmento)
const lib = require('pstree.remy');     // librería externa (no se usa en este fragmento)
const readline = require('readline');   // módulo para interacción por consola

// Crear interfaz readline para entrada/salida de usuario
const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
  terminal: true
});

// ==========================
// ▶️ Función principal: Menu()
// Despliega las opciones y gestiona las acciones del usuario
// ==========================
function Menu() {
  console.log("Menu Interactivo");
  console.log(" 1. Mostrar Coleccion");
  console.log(" 2. Agregar libro");
  console.log(" 3. Agregar 10 libros (predeterminados)");
  console.log(" 4. quitar libros");
  console.log(" 5. Estadisticas de los libros");
  console.log(" 6. Editoriales");
  console.log(" 7. Submenu (iteraciones)");
  console.log(" 8. Submenu (manejo metodos de array)");
  console.log(" 9. reiniciar libros");
  console.log(" 10. Salir del sistema");

  // Leer opción del usuario
  rl.question("Elige una de los opciones: ", (opcion) => {
    switch (opcion) {
      case "1":
        mostrarLibros(); // muestra toda la colección
        Menu();
        break;
      case "2":
        agregarLibro(); // agrega un libro nuevo
        break;
      case "3":
        agregar10LibrosPredeterminados(); // agrega un lote de 10 libros
        break;
      case "4":
        eliminarLibro(); // elimina un libro
        break;
      case "5":
        mostrarEstadisticas(); // muestra estadísticas generales
        break;
      case "6":
        Editoriales(); // agrupa libros por editorial
        Menu();
        break;
      case "7":
        subMenu(); // submenu con iteraciones
        break;
      case "8":
        segundoSubMenu(); // submenu con métodos de array
        break;
      case "9":
        reinicio(); // restaura la colección desde respaldo
        Menu();
        break;
      case "10":
        console.log("Adios");
        rl.close(); // cierra la interfaz
        process.exit(0); // termina el programa
        break;
      default:
        console.log("Intenta otra opcion");
        Menu();
        break;
    }
  });
}
Menu();

// ▶️ Función: mostrarLibros()
// Recorre la colección y muestra los libros disponibles
  function mostrarLibros() {
    console.table(
      librosColeccion.map(librosColeccion => ({
        titulo: librosColeccion.titulo,
        autor: librosColeccion.autor,
        genero: librosColeccion.generos,
        precio: librosColeccion.precio
      }))
    )
  }
// ▶️ Función: agregarLibro()
// Permite al usuario ingresar un nuevo libro
// y lo agrega a la colección
  function agregarLibro() {
    console.log("📚 Agregar un libro:");
    rl.question("Título: ", (titulo) => {
      rl.question("Autor: ", (autor) => {
        rl.question("Formato (Tapa dura, Tapa blanda, Digital, Audiolibro): ", (formato) => {
          rl.question("Precio (USD): ", (precio) => {
            rl.question("Peso (ej: 0.75 kg): ", (peso) => {
              rl.question("Estado (Nuevo, Excelente, Usado, Deteriorado): ", (estado) => {
                rl.question("Ubicación física (ej: Estante 1 - Sección A): ", (ubicacionFisica) => {
                  rl.question("Fecha de publicación (YYYY-MM-DD): ", (fechaPublicacion) => {
                    rl.question("Géneros (separados por coma): ", (generosInput) => {
                      rl.question("Idioma: ", (idioma) => {
                        rl.question("Descripción: ", (descripcion) => {
                          rl.question("ISBN: ", (ISBN) => {
                            rl.question("Dimensiones (ej: 23 x 2 x 28 cm): ", (dimensiones) => {
                              rl.question("Editorial: ", (editorial) => {
                                rl.question("Número de páginas: ", (numeroPaginas) => {

                                  const nuevoLibro = {
                                    titulo,
                                    autor,
                                    formato,
                                    precio: parseFloat(precio),
                                    peso,
                                    estado,
                                    ubicacionFisica,
                                    fechaPublicacion,
                                    generos: generosInput.split(",").map((g) => g.trim()),
                                    idioma,
                                    descripcion,
                                    ISBN,
                                    dimensiones,
                                    editorial,
                                    numeroPaginas: parseInt(numeroPaginas)
                                  };

                                  librosColeccion.push(nuevoLibro);
                                  console.log("✅ Libro agregado con éxito :)");
                                  Menu();
                                });
                              });
                            });
                          });
                        });
                      });
                    });
                  });
                });
              });
            });
          });
        });
      });
    });
  }
// ▶️ Función: agregar10LibrosPredeterminados()
// Inserta un lote de 10 libros predefinidos en la colección
  function agregar10LibrosPredeterminados() {
    const librosPredeterminados = [
      {
        titulo: "Dune",
        autor: "Frank Herbert",
        formato: "Tapa dura",
        editorial: "Chilton Books",
        precio: 35.00,
        ISBN: "978-0441172719",
        generos: ["Ciencia ficción", "Aventura"],
        numeroPaginas: 688,
        idioma: "Inglés",
        descripcion: "La historia de Paul Atreides en el desértico planeta Arrakis.",
        fechaPublicacion: "1965-08-01",
        peso: 950,
        estado: "Nuevo",
        ubicacionFisica: "Estante C1",
        dimensiones: "16 x 24 cm"
      },
      {
        titulo: "Neuromante",
        autor: "William Gibson",
        formato: "Tapa blanda",
        editorial: "Ace",
        precio: 20.00,
        ISBN: "978-0441569595",
        generos: ["Ciberpunk", "Ciencia ficción"],
        numeroPaginas: 271,
        idioma: "Inglés",
        descripcion: "El hacker Case en un mundo de inteligencia artificial y megacorporaciones.",
        fechaPublicacion: "1984-07-01",
        peso: 400,
        estado: "Nuevo",
        ubicacionFisica: "Estante C2",
        dimensiones: "14 x 21 cm"
      },
      {
        titulo: "El perfume",
        autor: "Patrick Süskind",
        formato: "Tapa blanda",
        editorial: "Diogenes Verlag",
        precio: 18.00,
        ISBN: "978-3257228007",
        generos: ["Histórico", "Misterio"],
        numeroPaginas: 255,
        idioma: "Alemán",
        descripcion: "Jean-Baptiste Grenouille y su obsesión por crear el perfume perfecto.",
        fechaPublicacion: "1985-01-01",
        peso: 350,
        estado: "Nuevo",
        ubicacionFisica: "Estante C3",
        dimensiones: "13 x 20 cm"
      },
      {
        titulo: "El club de la lucha",
        autor: "Chuck Palahniuk",
        formato: "Tapa blanda",
        editorial: "W. W. Norton & Company",
        precio: 17.50,
        ISBN: "978-0393355949",
        generos: ["Drama", "Psicológico"],
        numeroPaginas: 218,
        idioma: "Inglés",
        descripcion: "Un narrador anónimo y su alter ego Tyler Durden crean un club secreto.",
        fechaPublicacion: "1996-08-17",
        peso: 300,
        estado: "Usado",
        ubicacionFisica: "Estante C4",
        dimensiones: "13 x 20 cm"
      },
      {
        titulo: "American Gods",
        autor: "Neil Gaiman",
        formato: "Tapa dura",
        editorial: "HarperCollins",
        precio: 32.00,
        ISBN: "978-0380973651",
        generos: ["Fantasía", "Mitología"],
        numeroPaginas: 465,
        idioma: "Inglés",
        descripcion: "Shadow descubre el choque entre dioses antiguos y modernos en EE. UU.",
        fechaPublicacion: "2001-06-19",
        peso: 800,
        estado: "Nuevo",
        ubicacionFisica: "Estante C5",
        dimensiones: "15 x 23 cm"
      },
      {
        titulo: "El libro de arena",
        autor: "Jorge Luis Borges",
        formato: "Tapa blanda",
        editorial: "Emecé",
        precio: 15.00,
        ISBN: "978-9507315668",
        generos: ["Cuentos", "Ficción especulativa"],
        numeroPaginas: 181,
        idioma: "Español",
        descripcion: "Colección de cuentos donde lo infinito y lo imposible se mezclan.",
        fechaPublicacion: "1975-01-01",
        peso: 280,
        estado: "Nuevo",
        ubicacionFisica: "Estante C6",
        dimensiones: "12 x 19 cm"
      },
      {
        titulo: "Pedro Páramo",
        autor: "Juan Rulfo",
        formato: "Tapa blanda",
        editorial: "Fondo de Cultura Económica",
        precio: 12.00,
        ISBN: "978-9681604433",
        generos: ["Realismo mágico", "Drama"],
        numeroPaginas: 124,
        idioma: "Español",
        descripcion: "Juan Preciado llega a Comala en busca de su padre, Pedro Páramo.",
        fechaPublicacion: "1955-01-01",
        peso: 250,
        estado: "Nuevo",
        ubicacionFisica: "Estante C7",
        dimensiones: "12 x 18 cm"
      },
      {
        titulo: "Rayuela",
        autor: "Julio Cortázar",
        formato: "Tapa dura",
        editorial: "Editorial Sudamericana",
        precio: 28.00,
        ISBN: "978-9500728181",
        generos: ["Experimental", "Realismo mágico"],
        numeroPaginas: 600,
        idioma: "Español",
        descripcion: "Una novela que puede leerse en orden lineal o a saltos.",
        fechaPublicacion: "1963-01-01",
        peso: 900,
        estado: "Usado",
        ubicacionFisica: "Estante C8",
        dimensiones: "15 x 23 cm"
      },
      {
        titulo: "La casa de los espíritus",
        autor: "Isabel Allende",
        formato: "Tapa blanda",
        editorial: "Plaza & Janés",
        precio: 22.50,
        ISBN: "978-8401337200",
        generos: ["Realismo mágico", "Drama familiar"],
        numeroPaginas: 490,
        idioma: "Español",
        descripcion: "La saga de la familia Trueba enmarcada en la historia de Chile.",
        fechaPublicacion: "1982-01-01",
        peso: 750,
        estado: "Nuevo",
        ubicacionFisica: "Estante C9",
        dimensiones: "14 x 21 cm"
      },
      {
        titulo: "Los detectives salvajes",
        autor: "Roberto Bolaño",
        formato: "Tapa blanda",
        editorial: "Anagrama",
        precio: 26.00,
        ISBN: "978-8433967597",
        generos: ["Narrativa contemporánea"],
        numeroPaginas: 609,
        idioma: "Español",
        descripcion: "Dos jóvenes poetas y su búsqueda literaria y existencial.",
        fechaPublicacion: "1998-01-01",
        peso: 850,
        estado: "Nuevo",
        ubicacionFisica: "Estante C10",
        dimensiones: "15 x 23 cm"
      }
    ];

    librosColeccion.push(...librosPredeterminados);
    console.log("✅ 10 libros predeterminados agregados con éxito");
    Menu();
  }
// ▶️ Función: eliminarLibro()
//elimina los 5  ultimos libros agregados
  function eliminarLibro() {
    if (librosColeccion.length >= 5) {
      for (let i = 0; i < 5; i++) {
        const eliminado = librosColeccion.pop();
        console.log(`📕 Libro eliminado exitosamente: ${eliminado.titulo}`);
      }
    } else if (librosColeccion.length > 0) {
      console.log("⚠️ No hay suficientes libros, se eliminarán los que queden.");
      while (librosColeccion.length > 0) {
        const eliminado = librosColeccion.pop();
        console.log(`📕 Libro eliminado: ${eliminado.titulo}`);
      }
    } else {
      console.log("❌ Ningún libro encontrado para eliminar.");
    }
    Menu();
  }
  //mostrar estadisiticas de todos los libros generales
  function mostrarEstadisticas() {

    console.log(`📚 Total de libros: ${librosColeccion.length}`);

    const conteo = librosColeccion.reduce((cuenta, libro) => {
      cuenta[libro.idioma] = (cuenta[libro.idioma] || 0) + 1;
      return cuenta;
    }, {});
    const formatos = librosColeccion.reduce((formatitos, libro) => {
      formatitos[libro.formato] = (formatitos[libro.formato] || 0) + 1;
      return formatitos;
    }, {});

    const cuenta_genero = {};
    librosColeccion.forEach(libro => {
      libro.generos.forEach(genero => {
        cuenta_genero[genero] = (cuenta_genero[genero] || 0) + 1;
      });
    });
    console.log("📊 Conteo de libros por idioma: ", conteo);
    console.log("📊 Conteo de libros por formato: ", formatos);
    console.log("📊 Conteo de libros por género: ", cuenta_genero);
    Menu();
  }
  //tabla donde los libros son filtrados por editoriales
  function Editoriales() {
    const editorial = librosColeccion.reduce((acumulador, libro) => {
      if (!acumulador[libro.editorial]) {
        acumulador[libro.editorial] = [];
      }
      acumulador[libro.editorial].push(libro.titulo);
      return acumulador;
    }, {});
    console.table(editorial)
  }
  //parte del submenu #2 imprime los libros en tabla con un descuento del 20%
  function listadoLibrosConDescuento() {
    let librosFiltrados = librosColeccion.map(libro => ({
      titulo: libro.titulo,
      autor: libro.autor,
      editorial: libro.editorial,
      precio: libro.precio,
      descuento: (libro.precio * 0.20).toFixed(2)
    }))
    console.table(librosFiltrados);
  }
  //primer submenu (10 iteraciones)
  function subMenu() {
    console.log("SUBMENU")
    console.log("1. Listado de 10 libros (titulo, autor, editorial y precio)")
    console.log("2. Listado de 10 libros (titulo, descripcion, ISBN y formato)")
    console.log("3. Listado de 10 libros (titulo, genero, idioma, numeroPaginas)")
    console.log("4. Listado de 10 libros (titulo, fechaPublicacion, editorial, genero)")
    console.log("5. Listado de 10 libros (titulo, ISBN, precio, genero)")
    console.log("6. Listado de 10 libros (titulo, genero, editorial, fechaPublicacion)")
    console.log("7. Listado de 10 libros (titulo, autor, idioma, descripcion)")
    console.log("8. Listado de 10 libros (titulo, precio, formato, numeroPaginas)")
    console.log("9. Listado de 10 libros (titulo, precio, editorial, genero)")
    console.log("10. Listado de 10 libros (titulo, fechaPublicacion, precio)")
    console.log("11. Listado de 10 libros (titulo, autor, fechaPublicacion, formato)")
    console.log("12. Volver al menu")

    rl.question("Elige una de los opciones: ", (opcion) => {
      switch (opcion) {
        case "1":
          listadoLibros1()
          subMenu()
          break;
        case "2":
          listadoLibros2()
          subMenu()
          break;
        case "3":
          listadoLibros3()
          subMenu()
          break;
        case "4":
          listadoLibros4()
          subMenu()
          break;
        case "5":
          listadoLibros5()
          subMenu()
          break;
        case "6":
          listadoLibros6()
          subMenu()
          break;
        case "7":
          listadoLibros7()
          subMenu()
          break;
        case "8":
          listadoLibros8()
          subMenu()
          break;
        case "9":
          listadoLibros9()
          subMenu()
          break;
        case "10":
          listadoLibros10()
          subMenu()
          break;
        case "11":
          listadoLibros11()
          subMenu()
          break;
        case "12":
          Menu()
          break;
        default:
          console.log("intenta otra opcion: ")
          subMenu()
          break;
      }
    })

    function listadoLibros1() {
      let librosFiltrados1 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        autor: libro.autor,
        editorial: libro.editorial,
        precio: libro.precio
      }))
        .slice(0, 10);
      console.table(librosFiltrados1);
    }
    function listadoLibros2() {
      let librosFiltrados2 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        descripcion: libro.descripcion,
        ISBN: libro.ISBN,
        formato: libro.formato
      }))
        .slice(0, 10);
      console.table(librosFiltrados2);
    }
    function listadoLibros3() {
      let librosFiltrados3 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        genero: libro.generos,
        idioma: libro.idioma,
        numeroPaginas: libro.numeroPaginas
      }))
        .slice(0, 10);
      console.table(librosFiltrados3);
    }
    function listadoLibros4() {
      let librosFiltrados4 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        fechaPublicacion: libro.fechaPublicacion,
        editorial: libro.editorial,
        genero: libro.generos
      }))
        .slice(0, 10);
      console.table(librosFiltrados4);
    }
    function listadoLibros5() {
      let librosFiltrados5 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        ISBN: libro.ISBN,
        precio: libro.precio,
        genero: libro.generos
      }))
        .slice(0, 10);
      console.table(librosFiltrados5);
    }
    function listadoLibros6() {
      let librosFiltrados6 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        genero: libro.generos,
        editorial: libro.editorial,
        fechaPublicacion: libro.fechaPublicacion
      }))
        .slice(0, 10);
      console.table(librosFiltrados6);
    }
    function listadoLibros7() {
      let librosFiltrados7 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        autor: libro.autor,
        idioma: libro.idioma,
        descripcion: libro.descripcion
      }))
        .slice(0, 10);
      console.table(librosFiltrados7);
    }
    function listadoLibros8() {
      let librosFiltrados8 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        precio: libro.precio,
        formato: libro.formato,
        numeroPaginas: libro.numeroPaginas
      }))
        .slice(0, 10);
      console.table(librosFiltrados8);
    }
    function listadoLibros9() {
      let librosFiltrados9 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        precio: libro.precio,
        editorial: libro.editorial,
        genero: libro.generos
      }))
        .slice(0, 10);
      console.table(librosFiltrados9);
    }
    function listadoLibros10() {
      let librosFiltrados10 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        fechaPublicacion: libro.fechaPublicacion,
        precio: libro.precio
      }))
        .slice(0, 10);
      console.table(librosFiltrados10);
    }
    function listadoLibros11() {
      let librosFiltrados11 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        autor: libro.autor,
        fechaPublicacion: libro.fechaPublicacion,
        formato: libro.formato
      }))
        .slice(0, 10);
      console.table(librosFiltrados11);
    }

  }
  //encargado de reiniciar los libros, dejando solo 20 originales
  function reinicio() {
    librosColeccion = [...librosRestauracion];
  }
  //2do submenu en el cual se hace la otra parte del proyecto
  function segundoSubMenu() {
    console.log("SUBMENU 2")
    console.log("1. descuento")
    console.log("2. precios mayores de 50")
    console.log("3. resumen numero de paginas (por numero mas alto (titulo, autor, editorial, paginas))")
    console.log("4. orden de libros por numero de paginas (mayor a menor)")
    console.log("5. libros mayores de 11 dolares (titulo, autor, precio.)")
    console.log("6. libros menores de 100 paginas(titulo, autor, editorial y paginas)")
    console.log("7. libros mayores de 20 dolares (titulo, autor, precio)")
    console.log("8. resumen de libros por numero mas alto de paginas (titulo, autor, editorial, paginas ordenados de mayor a menor.) ")
    console.log("9. buscador")
    console.log ("10. volver al menu")
    rl.question("elige una de las opciones: ", (opcion2) => {
      switch (opcion2) {
        case "1":
          listadoLibrosConDescuento();
          segundoSubMenu();
          break;
        case "2":
          preciosMayores_50();
          segundoSubMenu();
          break;
        case "3":
          numeroPaginas();
          segundoSubMenu();
          break;
        case "4":
          ordenPaginas();
          segundoSubMenu();
          break;
        case "5":
          filtro11Dolares();
          segundoSubMenu();
          break;
        case "6":
          menora100();
          segundoSubMenu();
          break;
        case "7":
          filtro20Dolares();
          segundoSubMenu()
          break;
        case "8":
          ordenPaginas2();
          segundoSubMenu();
          break;
        case "9":
          buscador();
          break;
        case "10":
          Menu();
          break;
        default:
          console.log("intenta otra opcion: ")
          segundoSubMenu();
          break;
      }
    })
    //funcion que muestra todos los precios mayores a 50 dolares
    function preciosMayores_50() {
      let librosMayores = librosColeccion.filter(libro => libro.precio > 50).map(libro => ({

        titulo: libro.titulo,
        autor: libro.autor,
        precio: libro.precio
      }));
      console.log("libros con precios mayores a $50:")
      console.table(librosMayores);
    }
    //funcion que imprime los libros junto a su numero de paginas de mayor a menor
    function numeroPaginas() {
      const Resumen = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        autor: libro.autor,
        editorial: libro.editorial,
        numeroPaginas: libro.numeroPaginas
      }))
        .sort((x, d) => d.numeroPaginas - x.numeroPaginas);
      console.table(Resumen)
    }
    //lo msimo que el de arriba practicamente
    function ordenPaginas() {
      const resumenPaginas = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        autor: libro.autor,
        numeroPaginas: libro.numeroPaginas,
      }))
        .sort((a, b) => b.numeroPaginas - a.numeroPaginas);
      console.table(resumenPaginas)
    }
    //funcion que meustra solo los libros mayores a 11 dolares
    function filtro11Dolares() {
      let dolares = librosColeccion.filter(libro => libro.precio > 11).map(libro => ({
        titulo: libro.titulo,
        autor: libro.autor,
        precio: libro.precio
      }))
      console.log("libros con un precio mayores a $11: ")
      console.table(dolares);
    }
    //solo muestra los libros que tengan menos de 100 paginas
    function menora100() {
      let paginas100 = librosColeccion.filter(libro => libro.numeroPaginas < 100).map(libro => ({
        titulo: libro.titulo,
        autor: libro.autor,
        editorial: libro.editorial,
        paginas: libro.numeroPaginas
      }))
      console.log("libros con menos de 100 paginas: ")
      console.table(paginas100);
    }
    //muestra solo los libros que tengan pecios mayores a 20 dolares
    function filtro20Dolares() {
      let dolarcitos = librosColeccion.filter(libro => libro.precio > 20).map(libro => ({
        titulo: libro.titulo,
        autor: libro.autor,
        precio: libro.precio
      }))
        .sort((z, x) => x.precio - z.precio)
      console.table(dolarcitos)
    }
    //lo mismo que las otras 2 de antes
    function ordenPaginas2() {
      let resumenPaginas1 = librosColeccion.map(libro => ({
        titulo: libro.titulo,
        autor: libro.autor,
        editorial: libro.editorial,
        numeroPaginas: libro.numeroPaginas,
      }))
        .sort((a, b) => b.numeroPaginas - a.numeroPaginas);
      console.table(resumenPaginas1);
    }
    //submenu que te muestra te filtra solo lo busques
    function buscador() {
      console.log("BUSCADOR")
      console.log("1. buscar por titulo")
      console.log("2. buscar por autor")
      console.log("3. buscar por fecha de publicacion")
      console.log("4. buscar por genero")
      console.log("5. buscar por idioma")
      console.log("6. buscar por editorial")
      console.log("7. buscar por ISBN")
      console.log("8. buscar por ubicacion")
      console.log("9. buscar por numeroPaginas")
      console.log("10. buscar por estado")
      console.log("11. buscar por formato")
      console.log("12. buscar por precio")
      console.log("13. buscar por peso")
      console.log("14. buscar por dimesiones")
      console.log("15. buscar por descripcion")
      console.log("16. volver al submenu")

      rl.question("Elige que cosa quieres buscar: ", (opcion3) => {
        switch (opcion3) {
          case "1":
            buscadoTitulo();
            break;
          case "2":
            buscadoAutor()
            break;
          case "3":
            buscadoFecha();
            break;
          case "4":
            buscadoGenero();
            break;
          case "5":
            buscadoIdioma();
            break;
          case "6":
            buscadoEditorial();
            break;
          case "7":
            buscadoISBN()
            break;
          case "8":
            buscadoUbicacion();
            break;
          case "9":
            buscadoPaginas();
            break;
          case "10":
            buscadoEstado();
            break;
          case "11":
            buscadoFormato();
            break;
          case "12":
            buscadoPrecio();
            break;
          case "13":
            buscadoPeso();
            break;
          case "14":
            buscadoDimensiones();
            break;
          case "15":
            buscadoDescripcion();
            break;
          case "16":
            segundoSubMenu();
            break;
          default:
            console.log("Intente de nuevo: ")
            buscador();
            break;
        }
      })

      function buscadoTitulo() {
        rl.question("Ingresa el titulo que buscaras: ", (tituloBuscado) => {
          let librito = librosColeccion.find(libro => libro.titulo.toLowerCase() === tituloBuscado.toLowerCase());

          if (librito) {
            console.log("titulo encontrado: ")
            console.table([{
              titulo: librito.titulo,
              autor: librito.autor,
              editorial: librito.editorial,
              precio: librito.precio
            }]);
            buscador()
          } else {
            console.log("Libro no encontrado")
            buscador()
          }
        });
      }
    }
    // 🔎 Función: buscadoAutor()
// Busca un libro por el nombre del autor
    function buscadoAutor() {
      rl.question("Ingresa el autor que buscaras: ", (autorBuscado) => {
        let librito = librosColeccion.find(libro => libro.autor.toLowerCase() === autorBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            editorial: librito.editorial,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
    // 🔎 Función: buscadoFecha()
// Busca un libro por la fecha de publicación
    function buscadoFecha() {
      rl.question("Ingresa la fecha que buscaras: ", (fechaBuscado) => {
        let librito = librosColeccion.find(libro => libro.fechaPublicacion.toLowerCase() === fechaBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            fechaPublicacion: librito.fechaPublicacion,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
    // 🔎 Función: buscadoGenero()
// Busca un libro por género (puede tener varios)
    function buscadoGenero() {
      rl.question("Ingresa el genero que buscarás: ", (generoBuscado) => {
        let librito = librosColeccion.find(libro =>
          Array.isArray(libro.generos) &&
          libro.generos.some(g => g.toLowerCase() === generoBuscado.toLowerCase())
        );

        if (librito) {
          console.log("📚 Libro encontrado:");
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            generos: librito.generos.join(", "), // mostrar géneros bonitos
            precio: librito.precio
          }]);
          buscador();
        } else {
          console.log("❌ Libro no encontrado");
          buscador();
        }
      });
    }
    // 🔎 Función: buscadoIdioma()
// Busca un libro por idioma
    function buscadoIdioma() {
      rl.question("Ingresa el idioma que buscaras: ", (idiomaBuscado) => {
        let librito = librosColeccion.find(libro => libro.idioma.toLowerCase() === idiomaBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            idioma: librito.idioma,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
    // 🔎 Función: buscadoEditorial()
// Busca un libro por editorial
    function buscadoEditorial() {
      rl.question("Ingresa la editorial que buscaras: ", (editorialBuscado) => {
        let librito = librosColeccion.find(libro => libro.editorial.toLowerCase() === editorialBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            editorial: librito.editorial,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
    // 🔎 Función: buscadoISBN()
// Busca un libro por ISBN
    function buscadoISBN() {
      rl.question("Ingresa el ISBN que buscaras: ", (ISBNBuscado) => {
        let librito = librosColeccion.find(libro => libro.ISBN.toLowerCase() === ISBNBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            ISBN: librito.ISBN,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
    // 🔎 Función: buscadoUbicacion()
// Busca un libro por su ubicación física
    function buscadoUbicacion() {
      rl.question("Ingresa la ubicacion que buscaras: ", (ubicacionBuscado) => {
        let librito = librosColeccion.find(libro => libro.ubicacionFisica.toLowerCase() === ubicacionBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            ubicacion: librito.ubicacionFisica,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
    // 🔎 Función: buscadoPaginas()
// Busca un libro por número de páginas
    function buscadoPaginas() {
      rl.question("Ingresa el numero de paginas que buscaras: ", (paginasBuscado) => {
        // Convertir a número
        const numBuscado = parseInt(paginasBuscado, 10);

        // Buscar coincidencia exacta
        let librito = librosColeccion.find(libro => libro.numeroPaginas === numBuscado);

        if (librito) {
          console.log("📖 Libro encontrado:");
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            numeroPaginas: librito.numeroPaginas,
            precio: librito.precio
          }]);
        } else {
          console.log("❌ Libro no encontrado");
        }

        buscador();
      });
    }
    // 🔎 Función: buscadoEstado()
// Busca un libro por estado (nuevo/usado, etc.)
    function buscadoEstado() {
      rl.question("Ingresa el estado que buscaras: ", (estadoBuscado) => {
        let librito = librosColeccion.find(libro => libro.estado.toLowerCase() === estadoBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            estado: librito.estado,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
    // 🔎 Función: buscadoFormato()
// Busca un libro por formato (tapa dura, digital, etc.)
    function buscadoFormato() {
      rl.question("Ingresa el formato que buscaras: ", (formatoBuscado) => {
        let librito = librosColeccion.find(libro => libro.formato.toLowerCase() === formatoBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            formato: librito.formato,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
    // 🔎 Función: buscadoPrecio()
// Busca un libro por precio exacto
    function buscadoPrecio() {
      rl.question("Ingresa el precio que buscaras: ", (precioBuscado) => {
        const numBuscado = parseFloat(precioBuscado); // convierte lo que escribe el usuario en número
        let librito = librosColeccion.find(libro => libro.precio === numBuscado);

        if (librito) {
          console.log("Título encontrado:");
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            precio: librito.precio
          }]);
          buscador();
        } else {
          console.log("Libro no encontrado");
          buscador();
        }
      });
    }
    // 🔎 Función: buscadoPeso()
// Busca un libro por peso
    function buscadoPeso() {
      rl.question("Ingresa el peso que buscaras: ", (pesoBuscado) => {
        let librito = librosColeccion.find(libro => libro.peso.toLowerCase() === pesoBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            peso: librito.peso,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
    // 🔎 Función: buscadoDimensiones()
// Busca un libro por dimensiones físicas
    function buscadoDimensiones() {
      rl.question("Ingresa lsa dimensiones que buscaras: ", (dimensionesBuscado) => {
        let librito = librosColeccion.find(libro => libro.dimensiones.toLowerCase() === dimensionesBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            dimensiones: librito.dimensiones,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
    // 🔎 Función: buscadoDescripcion()
// Busca un libro por su descripción
    function buscadoDescripcion() {
      rl.question("Ingresa la descripcion que buscaras: ", (descripcionBuscado) => {
        let librito = librosColeccion.find(libro => libro.descripcion.toLowerCase() === descripcionBuscado.toLowerCase());

        if (librito) {
          console.log("titulo encontrado: ")
          console.table([{
            titulo: librito.titulo,
            autor: librito.autor,
            descripcion: librito.descripcion,
            precio: librito.precio
          }]);
          buscador()
        } else {
          console.log("Libro no encontrado")
          buscador()
        }
      });
    }
  }
